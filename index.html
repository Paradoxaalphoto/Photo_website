<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>YorN — Prototype (2-file)</title>

    <!-- Theme + PWA -->
    <meta name="theme-color" content="#111111" />
    <link rel="manifest" href="/Photo_website/manifest.webmanifest" />

    <!-- React & Babel (no build step) -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- jsPDF for PDF export -->
    <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>

    <style>
      :root { --bg:#fafafa; --card:#fff; --ink:#0f0f0f; --sub:#666; --accent:#111; }
      html,body { margin:0; background:var(--bg); color:var(--ink); font-family:system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }
      .wrap { max-width:1100px; margin:0 auto; padding:16px; }
      .row { display:grid; grid-template-columns:1fr; gap:16px; }
      @media (min-width:1024px){ .row{ grid-template-columns:7fr 5fr; } }
      .card { background:var(--card); border-radius:16px; box-shadow:0 1px 6px rgba(0,0,0,.06); padding:16px; }
      .btn { padding:8px 12px; border-radius:12px; border:1px solid #ddd; background:#fff; }
      .btn.primary { background:#111; color:#fff; border-color:#111; }
      .bar { height:10px; background:#e9e9e9; border-radius:10px; overflow:hidden; }
      .bar > div { height:100%; background:#111; }
      code.small { font-size:12px; color:#444; }
      canvas { width:100%; height:auto; display:block; background:#f5f5f5; }
      .muted { color:var(--sub); font-size:12px; min-height:1.5rem; }
      pre.json { background:#111; color:#eee; padding:12px; border-radius:12px; max-height:320px; overflow:auto; font-size:12px; }
      .header { position:sticky; top:0; backdrop-filter:saturate(180%) blur(6px); background:rgba(255,255,255,.8); border-bottom:1px solid #eee; }
      .header-inner { max-width:1100px; margin:0 auto; padding:10px 16px; display:flex; justify-content:space-between; align-items:center; font-size:14px; }
      .metrics .row { display:grid; grid-template-columns:1fr 1fr; gap:8px 12px; }
      .metrics .label { color:#444; font-size:12px; }
      .metrics .val { text-align:right; font-variant-numeric:tabular-nums; }
      /* offline banner */
      #offline-banner {
        position:fixed; left:0; right:0; top:0; z-index:9999;
        display:none; justify-content:center; align-items:center;
        background:#111; color:#fff; padding:10px 14px;
        font-size:14px; text-align:center;
      }
      body.offline-pad { padding-top:46px; }
    </style>

    <!-- Service Worker + Offline Banner logic -->
    <script>
      // Register service worker (paths scoped to /Photo_website/)
      if ('serviceWorker' in navigator) {
        addEventListener('load', () => {
          navigator.serviceWorker.register('/Photo_website/sw.js').catch(()=>{});
        });
      }

      // Simple online/offline banner toggle
      (function(){
        function update() {
          const b = document.getElementById('offline-banner');
          if (!b) return;
          if (navigator.onLine) {
            b.style.display = 'none';
            document.body.classList.remove('offline-pad');
          } else {
            b.style.display = 'flex';
            document.body.classList.add('offline-pad');
          }
        }
        window.addEventListener('online', update);
        window.addEventListener('offline', update);
        document.addEventListener('DOMContentLoaded', update);
      })();
    </script>
  </head>
  <body>
    <!-- Offline banner -->
    <div id="offline-banner">You’re offline — showing cached app. Some features may be unavailable.</div>

    <header class="header">
      <div class="header-inner">
        <div>YorN • Prototype • v1.18.0-alpha</div>
        <div style="opacity:.65;font-size:12px;">No branding • Device-local</div>
      </div>
    </header>

    <div id="root" class="wrap"></div>

    <!-- App (compiled by Babel in the browser) -->
    <script type="text/babel" data-presets="react" src="./app.jsx"></script>
  </body>
</html>